import{d as C,r as $,c as U,s as S,w as T,o as f,a as b,b as t,t as m,u,F as j,f as R,g as D,h as i,v as M,i as x,j as v,k as P}from"./index-4mNB91ti.js";import{_ as E}from"./FooterBinance-DgqnVj7I.js";const N=C("binanceStore",()=>{const r=$([{date:null,symbol:"",buy:null,amnt:null,sell:null,activeMetric:"roi"}]),h=1e-4,g=1e-4,V=e=>Number(e.buy*e.amnt+e.buy*e.amnt*h).toFixed(2),y=e=>Number((e.sell/e.buy-1)*100).toFixed(2),c=e=>Number((e.sell-e.buy)*e.amnt-e.sell*e.amnt*g).toFixed(2),B=U(()=>r.value.reduce((e,s,a)=>{var p;if(s.activeMetric==="tp"){const _=parseFloat((p=n.value[a])==null?void 0:p.tp)||0;return e+_}return e},0).toFixed(2)),n=U(()=>r.value.map(e=>({cost:V(e),roi:y(e),tp:c(e)})));return{blocks:r,blockMetrics:n,isBlockComplete:e=>e.date&&e.symbol&&e.buy>0&&e.amnt>0&&e.sell>0,addBlock:()=>{r.value.unshift({date:null,symbol:"",buy:null,amnt:null,sell:null,activeMetric:"roi"})},removeBlock:e=>{e>=0&&e<r.value.length&&r.value.splice(e,1)},totalProfit:B}},{persist:!0}),O={class:"container min-h-screen mb-10 px-2 py-1 text-sm"},A={class:"flex justify-between border px-2 py-1"},I={class:"text-center font-bold"},z={class:""},L={class:"container flex justify-between py-1 items-center"},X={class:"flex items-center gap-3"},q={key:0,class:"text-right"},G=["onClick"],H={class:"text-yellow-400 font-bold"},J={class:"flex gap-3"},K=["for"],Q=["id","name","onUpdate:modelValue"],W={class:""},Y=["for"],Z=["id","name","onUpdate:modelValue"],k={class:""},ee={class:"flex justify-between px-2"},te={class:""},se=["id","onUpdate:modelValue","disabled"],oe=["id","onUpdate:modelValue","disabled"],ae=["id","onUpdate:modelValue","disabled"],le=["id","onUpdate:modelValue","disabled"],ne=["id","onUpdate:modelValue","disabled"],re={class:"font-bold"},ie={class:"fixed bottom-0 left-0 w-full h-12 z-10 bg-gray-900"},ce={__name:"BinanceSpotResult",setup(r){const{isBlockComplete:h,addBlock:g,removeBlock:V}=N(),{blocks:y,blockMetrics:c,totalProfit:B}=S(N());$(!0),T(()=>y.value.map(o=>({...o})),o=>{const e=o[0];h(e)&&g()},{deep:!0});const n=o=>{o&&typeof o=="object"&&"value"in o?o.value="":o=""},d=o=>o.activeMetric==="roi",w=o=>o.activeMetric==="roi";return(o,e)=>(f(),b("div",O,[t("div",A,[e[5]||(e[5]=t("div",{class:""},"BINANCE Spot Order",-1)),t("div",I,[t("div",z,"Total Profit: $, "+m(u(B)),1)])]),(f(!0),b(j,null,R(u(y),(s,a)=>{var p,_,F;return f(),b("div",{key:a,class:"mb-2"},[t("div",L,[t("div",X,[w(s)?(f(),b("div",q,[t("button",{class:"w-5 bg-red-600 text-white hover:bg-red-700",onClick:l=>u(V)(a)}," X ",8,G)])):D("",!0),t("div",H,"Order "+m(a+1),1)]),t("div",J,[t("label",{for:"roi-"+a,class:"flex items-center"},[i(t("input",{id:"roi-"+a,type:"radio",name:"metric-"+a,value:"roi","onUpdate:modelValue":l=>s.activeMetric=l,class:"mr-1"},null,8,Q),[[M,s.activeMetric]]),e[6]||(e[6]=x(" ROI, % "))],8,K),t("span",W,m((p=u(c)[a])==null?void 0:p.roi),1),t("label",{for:"tp-"+a,class:"flex items-center"},[i(t("input",{id:"tp-"+a,type:"radio",name:"metric-"+a,value:"tp","onUpdate:modelValue":l=>s.activeMetric=l,class:"mr-1"},null,8,Z),[[M,s.activeMetric]]),e[7]||(e[7]=x(" TP, $ "))],8,Y),t("span",k,m((_=u(c)[a])==null?void 0:_.tp),1)])]),t("div",ee,[t("div",te,[i(t("input",{id:"date-"+a,type:"date","onUpdate:modelValue":l=>s.date=l,placeholder:"Date",class:"w-[8ch] bg-gray-900 text-center appearance-none",disabled:!d(s),onFocus:e[0]||(e[0]=l=>n(o.date))},null,40,se),[[v,s.date]]),i(t("input",{id:"symbol-"+a,type:"text","onUpdate:modelValue":l=>s.symbol=l,placeholder:"Symbol",class:"w-[6ch] bg-gray-900 text-center uppercase",disabled:!d(s),onFocus:e[1]||(e[1]=l=>n(o.symbol))},null,40,oe),[[v,s.symbol]]),i(t("input",{id:"buy-"+a,type:"number","onUpdate:modelValue":l=>s.buy=l,placeholder:"Buy",class:"w-[8ch] bg-gray-900 text-center text-green-400 appearance-none",disabled:!d(s),onFocus:e[2]||(e[2]=l=>n(o.buy))},null,40,ae),[[v,s.buy]]),i(t("input",{id:"amnt-"+a,type:"number","onUpdate:modelValue":l=>s.amnt=l,placeholder:"Amnt",class:"w-[6ch] bg-gray-900 text-center appearance-none",disabled:!d(s),onFocus:e[3]||(e[3]=l=>n(o.amnt))},null,40,le),[[v,s.amnt]]),i(t("input",{id:"sell-"+a,type:"number","onUpdate:modelValue":l=>s.sell=l,placeholder:"Sell",class:"w-[8ch] bg-gray-900 text-center text-red-600 appearance-none",disabled:!d(s),onFocus:e[4]||(e[4]=l=>{n(o.sell)})},null,40,ne),[[v,s.sell]])]),t("div",re,m((F=u(c)[a])==null?void 0:F.cost),1)]),e[8]||(e[8]=t("hr",{class:"border-green-600 mt-1"},null,-1))])}),128)),t("footer",ie,[P(E)])]))}};export{ce as default};
