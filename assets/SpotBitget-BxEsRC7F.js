import{d as N,r as w,c as _,k as T,s as j,o as O,a as B,b as e,h as $,g as u,i as a,u as d,l as C,t as r,F as U,e as k,j as D}from"./index-CsSnTqQK.js";import{_ as q}from"./FooterBitget-CWjIjU2R.js";const A=N("spotBitget",()=>{const m=w(5100),c=w(.02),y=w(1.2);let F=1;const f=_(()=>+(m.value*c.value).toFixed(2)),p=w([P()]);function V(){return F++}function P(){const s=V(),o=T({id:s,symbol:"",open:"",close:"",orders:[],isSaved:!1,summary:_(()=>{const i=o.orders.reduce((v,g)=>v+g.tokenAmount,0),S=o.orders.reduce((v,g)=>v+g.buyOrder,0),h=o.orders.reduce((v,g)=>v+g.sellOrder,0),I=o.orders.length>0?o.orders[o.orders.length-1].profit:0;return{avgBuyPrice:i?S/i:0,avgSellPrice:i?h/i:0,totalProfit:I,totalBuyOrders:S,totalTokenAmount:i}})}),x={id:1,buyPrice:1.2345,sellPrice:1.456,tokenAmount:0,buyOrder:f.value,sellOrder:0,profit:0};return b(x,null),o.orders.push(x),o}function b(s,o){o?s.buyOrder=+(o.buyOrder*y.value).toFixed(2):s.buyOrder=+f.value.toFixed(2),s.tokenAmount=+(s.buyOrder/s.buyPrice).toFixed(2),s.sellOrder=+(s.sellPrice*s.tokenAmount*(1-.001)).toFixed(2),s.profit=+(s.sellOrder-s.buyOrder).toFixed(2)}function t(){const s=P();p.value.unshift(s)}function l(s){const o=s.orders[s.orders.length-1],x=+(o.buyPrice-.1).toFixed(4),i={id:s.orders.length+1,buyPrice:x,sellPrice:+(x+.2).toFixed(4),tokenAmount:0,buyOrder:0,sellOrder:0,profit:0};b(i,o),s.orders.push(i)}function n(s){p.value=p.value.filter(o=>o.id!==s)}return{deposit:m,coefOfRisk:c,coefNextOrderCost:y,firstOrderCost:f,activeBlocks:p,addBlock:t,addOrder:l,removeBlock:n}},{persist:!1}),z={class:"flex justify-between text-center p-1 text-sm"},E={for:"deposit"},L={for:"coefCost"},M={for:"coefRisk"},G={class:"mb-2"},H={class:"flex justify-between"},J=["id","onUpdate:modelValue"],K=["id","onUpdate:modelValue"],Q=["id","onUpdate:modelValue"],W=["id","onClick"],X={class:"flex justify-between"},Y=["id","onUpdate:modelValue","onInput"],Z=["id","onUpdate:modelValue","onInput"],ee=["id","onClick"],te={class:"flex justify-between mt-2 text-center"},le={class:""},se={class:""},ne={class:""},oe={class:""},re={class:""},de={class:"fixed w-full h-12 left-0 bottom-0 z-10 bg-gray-900"},ae={__name:"SpotBitget",setup(R){const{deposit:m,coefOfRisk:c,coefNextOrderCost:y,firstOrderCost:F,activeBlocks:f}=j(A()),{addBlock:p,addOrder:V,removeBlock:P}=A();return(b,t)=>(O(),B(U,null,[e("div",null,[e("div",z,[e("div",null,[e("label",E,[t[4]||(t[4]=$("Deposit: ")),u(e("input",{id:"deposit",type:"number","onUpdate:modelValue":t[0]||(t[0]=l=>C(m)?m.value=l:null),step:"1",min:"1",required:"",class:"w-[6ch] bg-gray-900 text-yellow-400 font-bold text-center"},null,512),[[a,d(m)]])])]),e("div",null,[e("label",L,[t[5]||(t[5]=$("CoefCost: ")),u(e("input",{id:"coefCost",type:"number","onUpdate:modelValue":t[1]||(t[1]=l=>C(y)?y.value=l:null),step:"1",min:"1",required:"",class:"w-[6ch] bg-gray-900 text-yellow-400 font-bold text-center"},null,512),[[a,d(y)]])])]),e("div",null,[e("label",M,[t[6]||(t[6]=$("CoefRisk: ")),u(e("input",{id:"coefRisk",type:"number","onUpdate:modelValue":t[2]||(t[2]=l=>C(c)?c.value=l:null),step:"1",min:"1",required:"",class:"w-[6ch] bg-gray-900 text-yellow-400 font-bold text-center"},null,512),[[a,d(c)]])])]),e("div",null,"First Order: "+r(d(F)),1),e("button",{id:"addBlock",class:"border px-1 bg-gray-700",onClick:t[3]||(t[3]=(...l)=>d(p)&&d(p)(...l))},"ADD")]),t[18]||(t[18]=e("hr",{class:"border-green-600 mt-2"},null,-1)),(O(!0),B(U,null,k(d(f),l=>(O(),B("div",{key:l.id,class:"p-2 mt-2 text-sm"},[e("div",G,[e("div",H,[u(e("input",{id:`symbol-${l.id}`,type:"text","onUpdate:modelValue":n=>l.symbol=n,placeholder:"Symbol",class:"w-[8ch] bg-gray-900 border text-center border-green-600 text-green-400 uppercase"},null,8,J),[[a,l.symbol]]),u(e("input",{id:`open-${l.id}`,type:"date","onUpdate:modelValue":n=>l.open=n,class:"w-[10ch] bg-gray-900 border text-center"},null,8,K),[[a,l.open]]),u(e("input",{id:`close-${l.id}`,type:"date","onUpdate:modelValue":n=>l.close=n,class:"w-[10ch] bg-gray-900 border text-center"},null,8,Q),[[a,l.close]]),e("button",{id:`removeBlock-${l.id}`,onClick:n=>d(P)(l.id),class:"border bg-gray-700"},"Remove",8,W)])]),(O(!0),B(U,null,k(l.orders,n=>(O(),B("div",{key:n.id,class:"mb-1"},[e("div",X,[e("span",null,r(n.id),1),u(e("input",{id:`buyPrice-${l.id}-${n.id}`,type:"number","onUpdate:modelValue":s=>n.buyPrice=s,placeholder:"Buy Price",class:"w-[6ch] bg-gray-900 text-center text-yellow-400",onInput:s=>b.recalculateOrder(n)},null,40,Y),[[a,n.buyPrice]]),e("span",null,r(n.tokenAmount),1),e("span",null,r(n.buyOrder),1),u(e("input",{id:`sellPrice-${l.id}-${n.id}`,type:"number","onUpdate:modelValue":s=>n.sellPrice=s,placeholder:"Sell Price",class:"w-[6ch] bg-gray-900 text-center text-yellow-400",onInput:s=>b.recalculateOrder(n)},null,40,Z),[[a,n.sellPrice]]),e("span",null,r(n.sellOrder),1),e("span",null,r(n.profit),1),e("button",{id:`addOrder-${l.id}`,onClick:s=>d(V)(l),class:"px-2 border border-green-600 font-extrabold text-green-600"},"+",8,ee)])]))),128)),e("div",te,[e("div",le,[t[7]||(t[7]=e("span",null,"Sum, $:",-1)),t[8]||(t[8]=e("br",null,null,-1)),e("span",null,r(l.summary.totalBuyOrders.toFixed(2)),1)]),e("div",se,[t[9]||(t[9]=e("span",null,"Buy:",-1)),t[10]||(t[10]=e("br",null,null,-1)),e("span",null,r(l.summary.avgBuyPrice.toFixed(4)),1)]),e("div",ne,[t[11]||(t[11]=e("span",null,"Amount:",-1)),t[12]||(t[12]=e("br",null,null,-1)),e("span",null,r(l.summary.totalTokenAmount.toFixed(2)),1)]),e("div",oe,[t[13]||(t[13]=e("span",null,"Sell:",-1)),t[14]||(t[14]=e("br",null,null,-1)),e("span",null,r(l.summary.avgSellPrice.toFixed(4)),1)]),e("div",re,[t[15]||(t[15]=e("span",null,"TP:",-1)),t[16]||(t[16]=e("br",null,null,-1)),e("span",null,r(l.summary.totalProfit.toFixed(2)),1)])]),t[17]||(t[17]=e("hr",{class:"border-green-600 mt-2"},null,-1))]))),128))]),e("footer",de,[D(q)])],64))}};export{ae as default};
