import{d as Z,l as k,r as h,c as a,s as ee,o as j,a as q,b as t,i as p,h as u,j as c,u as r,m as _,t as m,F as te,f as se,v as Q,n as b}from"./index-EXxFEBrx.js";const W=Z("marginBinance",()=>{const P=k([]),d=h(236),x=h(10),g=h(5),w=h(20),F=h(5),B=h(2),A=()=>{const e={id:Date.now(),symbol:"",open:null,close:null,nr:P.length+1,buyPrice:null,amount:null,buyOrder:null,amountMath:null,slPrice:null,sl:null,slPriceMath:null,tpPrice:null,tp:null,tpPriceMath:null,selectedSwitch:null};P.push(e)},S=a(()=>(d.value*g.value/100).toFixed(2)),$=a(()=>(d.value*F.value/100).toFixed(2)),R=a(()=>(d.value*B.value/100).toFixed(2)),D=a(()=>(x.value*S.value).toFixed(2)),G=a(()=>y.value.reduce((e,l)=>l.buyPrice&&l.amount?e+l.buyPrice*l.amount:e,0).toFixed(2)),X=a(()=>{const e=buyPrice.value;return e>=1e4?1:e>=1e3||e>=100?2:e>=10||e>=1?3:e>=.1?4:5}),z=a(()=>{const e=X.value;if(e===1)return 3;if(e===2)return 2;if(e===3)return 1;if(e>=4)return 0});a(()=>!buyPrice.value||buyPrice.value<=0?0:+(x.value*S.value/buyPrice.value).toFixed(z.value)),a(()=>y.value.map(e=>!e.buyPrice||!e.amount||e.amount<=0?null:((d.value*B.value/100-e.buyPrice*e.amount)*-1/e.amount).toFixed(2))),a(()=>y.value.map(e=>!e.buyPrice||!e.amount||e.amount<=0?null:((d.value*F.value/100+e.buyPrice*e.amount)/e.amount).toFixed(2)));const U=a(()=>G*.02/100),O=a(()=>tpPrice.value*amount.value*.055/100),N=a(()=>slPrice.value*amount.value*.055/100);a(()=>{const e=parseFloat(buyPrice.value),l=parseFloat(slPrice.value),v=parseFloat(amount.value),i=parseFloat(U.value||0),f=parseFloat(N.value||0);return isNaN(e)||isNaN(l)||isNaN(v)?null:((e-l)*v+i+f).toFixed(2)}),a(()=>{const e=parseFloat(buyPrice.value),l=parseFloat(tpPrice.value),v=parseFloat(amount.value),i=parseFloat(U.value||0),f=parseFloat(O.value||0);return isNaN(e)||isNaN(l)||isNaN(v)?null:((l-e)*v-i-f).toFixed(2)});const y=h([{id:1,symbol:"",open:null,close:null,buyPrice:null,amount:null,slPrice:null,tpPrice:null,selectedSwitch:!0}]),T=()=>{const e={id:y.value.length+1,symbol:"",open:null,close:null,buyPrice:null,amount:null,slPrice:null,tpPrice:null,selectedSwitch:!0};y.value.unshift(e)},M=e=>{y.value=y.value.filter(l=>l.id!==e)},L=e=>{const l=P.findIndex(v=>v.id===e);l!==-1&&P.splice(l,1)},C=e=>!e.buyPrice||!e.amount?0:(e.buyPrice*e.amount).toFixed(2);return{deposit:d,leverage:x,riskMargin:g,margin:S,tpCost:$,slCost:R,buyOrderMath:D,coefNextOrderCost:w,takeProfit:F,stopLoss:B,orderBlocks:y,addBlock:T,removeBlock:M,calculateBuyOrder:C,calculateAmountMath:e=>{if(!e.buyPrice||e.buyPrice<=0)return 0;const l=d.value*g.value/100;return+(x.value*l/e.buyPrice).toFixed(2)},calculateSlPriceMath:e=>!e.buyPrice||!e.amount||e.amount<=0?null:((d.value*2/100-e.buyPrice*e.amount)*-1/e.amount).toFixed(2),calculateTpPriceMath:e=>!e.buyPrice||!e.amount||e.amount<=0?null:((d.value*5/100+e.buyPrice*e.amount)/e.amount).toFixed(2),calculateSl:e=>{const l=parseFloat(e.slPrice);if(!l||!e.buyPrice||!e.amount)return null;const i=C(e)*.02/100,f=l*e.amount*.055/100;return((e.buyPrice-l)*e.amount+i+f).toFixed(2)},calculateTp:e=>{const l=parseFloat(e.tpPrice);if(!l||!e.buyPrice||!e.amount)return null;const i=C(e)*.02/100,f=l*e.amount*.055/100;return((l-e.buyPrice)*e.amount-i-f).toFixed(2)},addOrder:A,removeOrder:L}},{persist:!1}),ne={class:""},le={class:"flex justify-between text-left p-1 text-sm"},re={class:"container w-1/3"},oe={class:""},ae={for:"deposit"},ue={class:""},ie={for:"leverage"},de={class:""},ce={for:"coefCost"},pe={class:""},me={for:"stopLoss"},ye={for:"takeProfit"},ve={for:"stopLoss"},fe={class:"flex items-center bg-gray-700 border px-1"},Pe={class:""},xe={class:"flex justify-between"},ge=["onUpdate:modelValue"],he=["onUpdate:modelValue"],_e=["onUpdate:modelValue"],be=["onClick"],we={class:""},Fe={class:"flex justify-between mt-1"},Ce=["onUpdate:modelValue"],Ve=["onUpdate:modelValue"],Be={class:""},Se={class:"text-gray-500 text-xs"},Ue=["onClick"],Me={class:"flex justify-between mt-1 items-center"},Oe={class:"flex items-center"},Ne=["name","onUpdate:modelValue"],Te=["onUpdate:modelValue"],Le={class:"text-gray-500"},je={class:"text-xs"},qe={class:"flex items-center"},Ae=["name","onUpdate:modelValue"],$e=["onUpdate:modelValue"],Re={class:"text-gray-500"},De={class:"text-xs"},Ge={class:"flex justify-end mb-2"},ze={__name:"MarginBinance",setup(Y){const{deposit:V,leverage:P,riskMargin:d,coefNextOrderCost:x,takeProfit:g,stopLoss:w,orders:F,amount:B,symbol:A,buyPrice:S,tpPrice:$,slPrice:R,open:D,close:G,nr:X,selectedSwitch:z,margin:U,tpCost:O,slCost:N,buyOrderMath:y,orderBlocks:T}=ee(W()),{addBlock:M,removeBlock:L,calculateBuyOrder:C,calculateAmountMath:E,calculateSlPriceMath:I,calculateTpPriceMath:H,calculateSl:J,calculateTp:K,addOrder:e,removeOrder:l,calculateBuyOrderMath:v}=W(),i=(f,n)=>f.selectedSwitch===n?n==="sl"?"text-red-500":"text-green-500":"text-white";return console.log(F),(f,n)=>(j(),q("div",ne,[t("div",le,[t("div",re,[t("div",oe,[t("label",ae,[n[8]||(n[8]=p("Deposit, $: ")),u(t("input",{id:"deposit",type:"number","onUpdate:modelValue":n[0]||(n[0]=s=>_(V)?V.value=s:null),step:"1",min:"1",required:"",class:"w-[6ch] bg-gray-900 text-yellow-400 font-bold text-right"},null,512),[[c,r(V)]])])]),t("div",ue,[t("label",ie,[n[9]||(n[9]=p("Leverage: ")),u(t("input",{id:"leverage",type:"number","onUpdate:modelValue":n[1]||(n[1]=s=>_(P)?P.value=s:null),step:"1",min:"1",required:"",class:"w-[6ch] bg-gray-900 text-yellow-400 font-bold text-center"},null,512),[[c,r(P)]])])]),t("div",de,[t("label",ce,[n[10]||(n[10]=p("CoefCost, %: ")),u(t("input",{id:"coefCost",type:"number","onUpdate:modelValue":n[2]||(n[2]=s=>_(x)?x.value=s:null),step:"1",min:"1",required:"",class:"w-[6ch] bg-gray-900 text-yellow-400 font-bold text-center"},null,512),[[c,r(x)]])])])]),t("div",pe,[t("div",null,[t("label",me,[n[11]||(n[11]=p("RiskMargin: ")),u(t("input",{id:"coefRisk",type:"number","onUpdate:modelValue":n[3]||(n[3]=s=>_(d)?d.value=s:null),step:"0.01",min:"0",required:"",class:"w-[6ch] bg-gray-900 text-yellow-400 font-bold text-center"},null,512),[[c,r(d)]])]),p(" "+m(r(U))+" $ ",1)]),t("div",null,[t("label",ye,[n[12]||(n[12]=p("TakeProfit: ")),u(t("input",{id:"takeProfit",type:"number","onUpdate:modelValue":n[4]||(n[4]=s=>_(g)?g.value=s:null),step:"0.01",min:"0",required:"",class:"w-[6ch] bg-gray-900 text-yellow-400 font-bold text-center"},null,512),[[c,r(g)]])]),p(" "+m(r(O))+" $ ",1)]),t("div",null,[t("label",ve,[n[13]||(n[13]=p("StopLoss: ")),u(t("input",{id:"stopLoss",type:"number","onUpdate:modelValue":n[5]||(n[5]=s=>_(w)?w.value=s:null),step:"0.01",min:"0",required:"",class:"w-[6ch] bg-gray-900 text-yellow-400 font-bold text-center"},null,512),[[c,r(w)]])]),p(" "+m(r(N))+" $ ",1)])]),t("div",fe,[t("button",{onClick:n[6]||(n[6]=(...s)=>r(M)&&r(M)(...s)),class:""},n[14]||(n[14]=[p("Add"),t("br",null,null,-1),p("Block")]))])]),n[16]||(n[16]=t("hr",{class:"border-green-600 mt-1"},null,-1)),(j(!0),q(te,null,se(r(T),s=>(j(),q("div",{key:s.id,class:"p-2 mt-1 text-sm"},[t("div",Pe,[t("div",xe,[u(t("input",{id:"symbol",type:"text","onUpdate:modelValue":o=>s.symbol=o,placeholder:"Symbol",class:"w-[10ch] px-2 text-yellow-400 text-center font-bold bg-gray-900 border border-gray-700 outline-none focus:bg-gray-800 focus:ring focus:ring-yellow-400 focus:border-yellow-400 invalid:bg-red-900 valid:bg-gray-800 uppercase"},null,8,ge),[[c,s.symbol]]),u(t("input",{id:"open",type:"date","onUpdate:modelValue":o=>s.open=o,class:"w-[10ch] bg-gray-900 border text-center"},null,8,he),[[c,s.open]]),u(t("input",{id:"close",type:"date","onUpdate:modelValue":o=>s.close=o,class:"w-[10ch] bg-gray-900 border text-center"},null,8,_e),[[c,s.close]]),t("button",{id:"removeBlock",onClick:o=>r(L)(s.id),class:"border bg-gray-700 px-2"},"X Block",8,be)]),t("div",we,[t("div",Fe,[t("span",null,m(s.id),1),u(t("input",{id:"buyPrice",type:"number","onUpdate:modelValue":o=>s.buyPrice=o,placeholder:"Buy Price",class:"w-[6ch] bg-gray-900 text-center"},null,8,Ce),[[c,s.buyPrice]]),u(t("input",{id:"amount",type:"number","onUpdate:modelValue":o=>s.amount=o,placeholder:"Amount",class:"w-[6ch] bg-gray-900 text-center"},null,8,Ve),[[c,s.amount]]),t("span",Be,m(r(C)(s)),1),t("div",Se,[t("span",null,"("+m(r(E)(s))+" - ",1),t("span",null,m(r(y))+")",1)]),t("button",{id:"removeOrder",onClick:o=>r(l)(s.id),class:"border px-2 bg-gray-700"},"X Order",8,Ue)]),t("div",Me,[t("div",Oe,[u(t("input",{id:"sl",type:"radio",name:"switchGroup"+s.id,"onUpdate:modelValue":o=>s.selectedSwitch=o,value:"sl",class:"accent-red-600"},null,8,Ne),[[Q,s.selectedSwitch]]),t("span",{class:b(i(s,"sl"))},"SL",2)]),u(t("input",{id:"slPrice",type:"number","onUpdate:modelValue":o=>s.slPrice=o,placeholder:"SL Price",class:b(["w-[6ch] bg-gray-900 text-center",i(s,"sl")])},null,10,Te),[[c,s.slPrice]]),t("span",{class:b(i(s,"sl"))},m(r(J)(s)),3),t("div",Le,[t("span",je,"("+m(r(I)(s))+")",1)]),t("div",qe,[u(t("input",{id:"tp",type:"radio",name:"switchGroup"+s.id,"onUpdate:modelValue":o=>s.selectedSwitch=o,value:"tp",class:"accent-green-600"},null,8,Ae),[[Q,s.selectedSwitch]]),t("span",{class:b(i(s,"tp"))},"TP",2)]),u(t("input",{id:"tpPrice",type:"number","onUpdate:modelValue":o=>s.tpPrice=o,placeholder:"TP Price",class:b(["w-[6ch] bg-gray-900 text-center",i(s,"tp")])},null,10,$e),[[c,s.tpPrice]]),t("span",{class:b(i(s,"tp"))},m(r(K)(s)),3),t("div",Re,[t("span",De,"("+m(r(H)(s))+")",1)]),t("div",Ge,[t("button",{onClick:n[7]||(n[7]=(...o)=>r(e)&&r(e)(...o)),class:"px-2 bg-gray-700 text-white border rounded"}," Add ")])])])]),n[15]||(n[15]=t("hr",{class:"border-green-600"},null,-1))]))),128))]))}};export{ze as default};
