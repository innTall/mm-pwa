import{d as U,r as l,q as G,c,w as H,s as J,o as K,a as Q,b as u,t as b,u as A,k as h,y as _,n as m,z as W,F as X}from"./index-BWSlYKa9.js";const Y=U("marginBinance",()=>{let p=1;const r=l(null),v=l(null),a=l(null),d=l(null),i=l(null),B=l(null),o=l([w()]),y=l([]),g=c(()=>(r.value*a.value/100).toFixed(2)),O=c(()=>(r.value*d.value/100).toFixed(2)),M=c(()=>(r.value*i.value/100).toFixed(2)),T=c(()=>(v.value*g.value).toFixed(2)),L=c(()=>o.value.reduce((e,t)=>e+t.orders.reduce((s,n)=>(n.selectedSwitch==="tp"&&n.tp?s+=parseFloat(n.tp)||0:n.selectedSwitch==="sl"&&n.sl&&(s+=parseFloat(n.sl)||0),s),0),0).toFixed(2)),R=c(()=>[...y.value].sort((e,t)=>e.localeCompare(t)));function D(){return p++}function x(){y.value=o.value.filter(e=>e.symbol).map(e=>e.symbol)}function w(){const e=G({id:D(),symbol:"",date:"",orders:[],isSaved:!1,totalActiveTpAndSl:c(()=>e.orders.reduce((s,n)=>(n.selectedSwitch==="tp"&&n.tp?s+=parseFloat(n.tp)||0:n.selectedSwitch==="sl"&&n.sl&&(s+=parseFloat(n.sl)||0),s),0).toFixed(2))}),t={id:1,buyPrice:B.value,amount:null,slPrice:null,tpPrice:null,selectedSwitch:null};return e.orders.push(t),H(()=>e.symbol,()=>{x()}),e}function I(){const e=w();o.value.unshift(e),x()}function N(e){o.value=o.value.filter(t=>t.id!==e),x()}function V(e){const t={id:e.orders.length+1,buyPrice:B.value,amount:null,buyOrder:null,amountMath:null,slPrice:null,sl:null,slPriceMath:null,tpPrice:null,tp:null,tpPriceMath:null,selectedSwitch:"sl"};e.orders.unshift(t);const s=o.value.findIndex(n=>n.id===e.id);if(s!==-1){const[n]=o.value.splice(s,1);o.value.unshift(n)}}function q(e,t){const s=e.orders.findIndex(n=>n.id===t);s!==-1&&e.orders.splice(s,1)}function P(e){return!e.buyPrice||!e.amount?0:(e.buyPrice*e.amount).toFixed(2)}function z(e){const t=parseFloat(e.slPrice);if(!t||!e.buyPrice||!e.amount)return 0;const n=P(e)*.1/100,S=t*e.amount*.1/100;return((t-e.buyPrice)*e.amount-n-S).toFixed(2)}function j(e){const t=parseFloat(e.tpPrice);if(!t||!e.buyPrice||!e.amount)return 0;const n=P(e)*.1/100,S=t*e.amount*.1/100;return((t-e.buyPrice)*e.amount-n-S).toFixed(2)}function F(e){return e>=1e4?0:e>=1e3?1:e>=100||e>=10?2:e>=1?3:e>=.1?4:5}function E(e){if(e===0)return 4;if(e===1)return 3;if(e===2)return 2;if(e===3)return 1;if(e>=4)return 0}return{deposit:r,leverage:v,coefRisk:a,takeProfit:d,stopLoss:i,activeBlocks:o,activeSymbols:y,sortedSymbols:R,totalActiveTpAndSl:L,margin:g,tpCost:O,slCost:M,buyOrderMath:T,addBlock:I,removeBlock:N,addOrder:V,removeOrder:q,calculateBuyOrder:P,calculateSl:z,calculateTp:j,infoAmount:e=>{if(!e.buyPrice||e.buyPrice<=0)return 0;const t=F(e.buyPrice),s=E(t),n=r.value*a.value/100;return+(v.value*n/e.buyPrice).toFixed(s)},infoSlPrice:e=>{if(!e.buyPrice||!e.amount||e.amount<=0)return null;const t=F(e.buyPrice);return+((r.value*i.value/100-e.buyPrice*e.amount)*-1/e.amount).toFixed(t)},infoTpPrice:e=>{if(!e.buyPrice||!e.amount||e.amount<=0)return null;const t=F(e.buyPrice);return+((r.value*d.value/100+e.buyPrice*e.amount)/e.amount).toFixed(t)}}},{persist:!0}),Z={class:"flex justify-between text-sm ml-3 items-center"},$={class:"text-green-600 underlined"},k={class:""},ee={class:""},te={class:"p-2"},ne={class:""},oe={__name:"FooterBinance",setup(C){const{totalActiveTpAndSl:f}=J(Y()),p="1.2.2",r=c(()=>f.value>0?"text-green-500":f.value<0?"text-red-500":"text-white");return(v,a)=>{const d=W("RouterLink");return K(),Q(X,null,[a[1]||(a[1]=u("hr",{class:"border-green-600"},null,-1)),u("div",Z,[u("div",$,"v."+b(A(p)),1),u("div",k,[h(d,{to:{name:"MarginBinanceRes"}},{default:_(({isActive:i})=>[u("span",{class:m([i?"text-blue-500 font-bold":"text-gray-500"])},"Margin |",2)]),_:1}),h(d,{to:{name:"SpotBinanceRes"}},{default:_(({isActive:i})=>[u("span",{class:m([i?"text-blue-500 font-bold":"text-gray-500"])}," Spot",2)]),_:1})]),u("div",ee,[h(d,{to:{name:"DepositBinance"}},{default:_(({isActive:i})=>[u("span",{class:m([i?"text-blue-500 font-bold":"text-gray-500"])},"Deposit",2)]),_:1})]),u("div",te,[u("div",ne,[a[0]||(a[0]=u("div",{class:"text-xs"},"Balance:",-1)),u("div",{class:m(["text-center font-bold",r.value])},b(A(f)),3)])])])],64)}}};export{oe as _,Y as u};
