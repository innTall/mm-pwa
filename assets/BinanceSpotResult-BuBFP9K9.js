import{_ as $,o as f,a as h,b as t,j as M,q as N,n as S,x as R,F as C,d as T,r as j,c as w,s as D,w as P,t as _,u as c,e as L,f as O,g as i,v as x,h as F,i as y}from"./index-BKeFs_j8.js";const z={},A={class:"text-sm"},E={class:""};function I(a,d){const u=R("RouterLink");return f(),h(C,null,[d[0]||(d[0]=t("hr",{class:"border-green-600"},null,-1)),t("div",A,[t("div",E,[M(u,{to:{name:"DepositBinance"}},{default:N(({isActive:p})=>[t("span",{class:S([p?"text-blue-500 font-bold":"text-gray-500"])},"Deposit",2)]),_:1})])])],64)}const q=$(z,[["render",I]]),U=T("binanceStore",()=>{const a=j([{date:null,symbol:"",buy:null,amnt:null,sell:null,activeMetric:"roi"}]),d=1e-4,u=1e-4,p=e=>Number(e.buy*e.amnt+e.buy*e.amnt*d).toFixed(2),b=e=>Number((e.sell/e.buy-1)*100).toFixed(2),m=e=>Number((e.sell-e.buy)*e.amnt-e.sell*e.amnt*u).toFixed(2),V=w(()=>a.value.reduce((e,g,B)=>{var v;if(g.activeMetric==="tp"){const o=parseFloat((v=r.value[B])==null?void 0:v.tp)||0;return e+o}return e},0).toFixed(2)),r=w(()=>a.value.map(e=>({cost:p(e),roi:b(e),tp:m(e)})));return{blocks:a,blockMetrics:r,isBlockComplete:e=>e.date&&e.symbol&&e.buy>0&&e.amnt>0&&e.sell>0,addBlock:()=>{a.value.unshift({date:null,symbol:"",buy:null,amnt:null,sell:null,activeMetric:"roi"})},removeBlock:e=>{e>=0&&e<a.value.length&&a.value.splice(e,1)},totalProfit:V}},{persist:!0}),X={class:"container min-h-screen px-2 py-1 text-sm"},G={class:"flex justify-between border px-2 py-1"},H={class:"text-center font-bold"},J={class:""},K={class:"container flex justify-between py-1 items-center"},Q={class:"flex items-center gap-3"},W={key:0,class:"text-right"},Y=["onClick"],Z={class:"text-yellow-400 font-bold"},k={class:"flex gap-3"},ee=["for"],te=["id","name","onUpdate:modelValue"],se={class:""},oe=["for"],ne=["id","name","onUpdate:modelValue"],le={class:""},ae={class:"flex justify-between px-2"},re={class:""},ie=["id","onUpdate:modelValue"],de=["id","onUpdate:modelValue"],ce=["id","onUpdate:modelValue"],ue=["id","onUpdate:modelValue"],pe=["id","onUpdate:modelValue"],me={class:"font-bold"},ve={class:"fixed bottom-0 left-0 w-full h-10 z-10 bg-gray-900"},ye={__name:"BinanceSpotResult",setup(a){const{isBlockComplete:d,addBlock:u,removeBlock:p}=U(),{blocks:b,blockMetrics:m,totalProfit:V}=D(U());P(()=>b.value.map(n=>({...n})),n=>{const s=n[0];d(s)&&u()},{deep:!0});const r=n=>{n&&typeof n=="object"&&"value"in n?n.value="":n=""};return(n,s)=>(f(),h("div",X,[t("div",G,[s[5]||(s[5]=t("div",{class:""},"BINANCE Spot Order",-1)),t("div",H,[t("div",J,"Total Profit: $, "+_(c(V)),1)])]),(f(!0),h(C,null,L(c(b),(l,e)=>{var g,B,v;return f(),h("div",{key:e,class:"mb-2"},[t("div",K,[t("div",Q,[l.activeMetric==="roi"?(f(),h("div",W,[t("button",{class:"w-5 bg-red-600 text-white hover:bg-red-700",onClick:o=>c(p)(e)}," X ",8,Y)])):O("",!0),t("div",Z,"Order "+_(e+1),1)]),t("div",k,[t("label",{for:"roi-"+e,class:"flex items-center"},[i(t("input",{id:"roi-"+e,type:"radio",name:"metric-"+e,value:"roi","onUpdate:modelValue":o=>l.activeMetric=o,class:"mr-1"},null,8,te),[[x,l.activeMetric]]),s[6]||(s[6]=F(" ROI, % "))],8,ee),t("span",se,_((g=c(m)[e])==null?void 0:g.roi),1),t("label",{for:"tp-"+e,class:"flex items-center"},[i(t("input",{id:"tp-"+e,type:"radio",name:"metric-"+e,value:"tp","onUpdate:modelValue":o=>l.activeMetric=o,class:"mr-1"},null,8,ne),[[x,l.activeMetric]]),s[7]||(s[7]=F(" TP, $ "))],8,oe),t("span",le,_((B=c(m)[e])==null?void 0:B.tp),1)])]),t("div",ae,[t("div",re,[i(t("input",{id:"date-"+e,type:"date","onUpdate:modelValue":o=>l.date=o,placeholder:"Date",class:"w-[8ch] bg-gray-900 text-center appearance-none",onFocus:s[0]||(s[0]=o=>r(n.date))},null,40,ie),[[y,l.date]]),i(t("input",{id:"symbol-"+e,type:"text","onUpdate:modelValue":o=>l.symbol=o,placeholder:"Symbol",class:"w-[6ch] bg-gray-900 text-center uppercase",onFocus:s[1]||(s[1]=o=>r(n.symbol))},null,40,de),[[y,l.symbol]]),i(t("input",{id:"buy-"+e,type:"number","onUpdate:modelValue":o=>l.buy=o,placeholder:"Buy",class:"w-[8ch] bg-gray-900 text-center text-green-400 appearance-none",onFocus:s[2]||(s[2]=o=>r(n.buy))},null,40,ce),[[y,l.buy]]),i(t("input",{id:"amnt-"+e,type:"number","onUpdate:modelValue":o=>l.amnt=o,placeholder:"Amnt",class:"w-[6ch] bg-gray-900 text-center appearance-none",onFocus:s[3]||(s[3]=o=>r(n.amnt))},null,40,ue),[[y,l.amnt]]),i(t("input",{id:"sell-"+e,type:"number","onUpdate:modelValue":o=>l.sell=o,placeholder:"Sell",class:"w-[8ch] bg-gray-900 text-center text-red-600 appearance-none",onFocus:s[4]||(s[4]=o=>r(n.sell))},null,40,pe),[[y,l.sell]])]),t("div",me,_((v=c(m)[e])==null?void 0:v.cost),1)]),s[8]||(s[8]=t("hr",{class:"border-green-600 mt-1"},null,-1))])}),128)),t("footer",ve,[M(q)])]))}};export{ye as default};
