import{d as N,r as T,s as C,w as $,c as L,o as f,a as g,b as s,n as V,t as b,F as R,e as M,f as i,v as B,g as U,u as w,h as v}from"./index-BSGElEoq.js";const S=N("marginStore",()=>{const x=T([{date:null,symbol:"",buy:null,amnt:null,tp:null,sl:null,activeValue:"profit"}]),d=2e-4,c=55e-5,h=(n,r,u)=>Number(n*r*d+u*r*c).toFixed(2),_=(n,r,u)=>Number(n*r*d+u*r*c).toFixed(2);return{orderBlocks:x,T_P:(n,r,u)=>{const a=_(n,r,u);return Number((u-n)*r-a).toFixed(2)},S_L:(n,r,u)=>{const a=h(n,r,u);return Number((u-n)*r-a).toFixed(2)},addNewBlock:()=>{x.value.unshift({date:null,symbol:"",buy:null,amnt:null,tp:null,sl:null,activeValue:"profit"})},removeBlock:n=>{x.value.splice(n,1)}}}),P={class:"px-2 py-1"},j={class:"flex justify-between border px-2"},A={class:"text-center font-bold"},D={class:"relative flex gap-3"},O=["onClick"],z={key:1,class:"flex gap-2 items-center"},E=["onClick"],X={class:"container flex justify-between"},Y={class:"flex gap-3"},q={class:"flex gap-3"},G=["for"],H=["id","onUpdate:modelValue"],I=["for"],J=["id","onUpdate:modelValue"],K={class:""},Q=["id","onUpdate:modelValue"],W=["id","onUpdate:modelValue"],Z=["id","onUpdate:modelValue"],k=["id","onUpdate:modelValue"],ee=["id","onUpdate:modelValue"],te=["id","onUpdate:modelValue"],ae={__name:"BybitMarginResult",setup(x){const{orderBlocks:d}=C(S()),{T_P:c,S_L:h,addNewBlock:_,removeBlock:F}=S(),p=a=>{a&&typeof a=="object"&&"value"in a?a.value="":a=""};$(d,a=>{const e=a[0];e.date&&e.symbol&&e.buy&&e.amnt&&e.tp&&_()},{deep:!0});const m=L(()=>!Array.isArray(d.value)||d.value.length===0?0:d.value.reduce((a,e)=>{if(e.activeValue==="profit"){const t=parseFloat(e.buy&&e.amnt&&e.tp?c(e.buy,e.amnt,e.tp):0);return a+t}else if(e.activeValue==="loss"){const t=parseFloat(e.buy&&e.amnt&&e.sl?h(e.buy,e.amnt,e.sl):0);return a+t}return a},0)),y=T(null),n=a=>{y.value=a},r=a=>{F(a),y.value=null},u=()=>{y.value=null};return(a,e)=>(f(),g("div",P,[s("div",j,[e[6]||(e[6]=s("div",{class:""},"Bybit Margin Order",-1)),s("div",A,[s("p",{class:V({"text-green-500 font-bold":m.value>0,"text-red-500 font-bold":m.value<0,"text-gray-500":m.value===0})}," Total: "+b(m.value.toFixed(2)),3)])]),(f(!0),g(R,null,M(w(d),(t,l)=>(f(),g("div",{key:l,class:""},[e[11]||(e[11]=s("div",{class:"flex justify-between pb-1 mb-1"},null,-1)),s("div",D,[y.value!==l?(f(),g("button",{key:0,onClick:o=>n(l),class:"w-5 bg-red-600 text-white hover:bg-red-500 hover:text-white"}," X ",8,O)):(f(),g("div",z,[s("button",{onClick:o=>r(l),class:"text-green-500 border border-green-500 px-2 py-1 rounded hover:bg-green-500 hover:text-white"}," Yes ",8,E),s("button",{onClick:u,class:"text-gray-500 border border-gray-500 px-2 py-1 rounded hover:bg-gray-500 hover:text-white"}," Cancel ")])),s("div",X,[e[10]||(e[10]=s("div",{class:"text-yellow-400 font-bold"},"Order data",-1)),s("div",Y,[e[9]||(e[9]=s("div",null,"Result",-1)),s("div",q,[s("label",{for:"profit"+l,class:V({"text-green-500 font-bold":t.activeValue==="profit","text-gray-500":t.activeValue!=="profit"})},[i(s("input",{id:"profit"+l,type:"radio",value:"profit","onUpdate:modelValue":o=>t.activeValue=o},null,8,H),[[B,t.activeValue]]),e[7]||(e[7]=U(" TP "))],10,G),s("span",{class:V({"text-green-500":t.activeValue==="profit","text-gray-500":t.activeValue!=="profit"})},b(w(c)(t.buy,t.amnt,t.tp)),3),s("label",{for:"loss"+l,class:V({"text-red-500 font-bold":t.activeValue==="loss","text-gray-500":t.activeValue!=="loss"})},[i(s("input",{id:"loss"+l,type:"radio",value:"loss","onUpdate:modelValue":o=>t.activeValue=o},null,8,J),[[B,t.activeValue]]),e[8]||(e[8]=U(" SL "))],10,I),s("span",{class:V({"text-red-500":t.activeValue==="loss","text-gray-500":t.activeValue!=="loss"})},b(w(h)(t.buy,t.amnt,t.sl)),3)])])])]),s("div",K,[i(s("input",{id:"date"+l,type:"date","onUpdate:modelValue":o=>t.date=o,placeholder:"Date",class:"w-[8ch] bg-gray-900 text-center appearance-none",onFocus:e[0]||(e[0]=o=>p(a.date))},null,40,Q),[[v,t.date]]),i(s("input",{id:"symbol"+l,type:"text","onUpdate:modelValue":o=>t.symbol=o,placeholder:"Symbol",class:"w-[6ch] bg-gray-900 text-center",onFocus:e[1]||(e[1]=o=>p(a.symbol))},null,40,W),[[v,t.symbol]]),i(s("input",{id:"buy"+l,type:"number","onUpdate:modelValue":o=>t.buy=o,placeholder:"Buy",class:"w-[8ch] bg-gray-900 text-center text-blue-400 appearance-none",onFocus:e[2]||(e[2]=o=>p(a.buy))},null,40,Z),[[v,t.buy]]),i(s("input",{id:"amnt"+l,type:"number","onUpdate:modelValue":o=>t.amnt=o,placeholder:"Amnt",class:"w-[6ch] bg-gray-900 text-center appearance-none",onFocus:e[3]||(e[3]=o=>p(a.amnt))},null,40,k),[[v,t.amnt]]),i(s("input",{id:"tp"+l,type:"number","onUpdate:modelValue":o=>t.tp=o,placeholder:"TP",class:"w-[8ch] bg-gray-900 text-center text-green-400 appearance-none",onFocus:e[4]||(e[4]=o=>p(a.tp))},null,40,ee),[[v,t.tp]]),i(s("input",{id:"sl"+l,type:"number","onUpdate:modelValue":o=>t.sl=o,placeholder:"SL",class:"w-[8ch] bg-gray-900 text-center text-red-400 appearance-none",onFocus:e[5]||(e[5]=o=>p(a.sl))},null,40,te),[[v,t.sl]])]),e[12]||(e[12]=s("hr",{class:"border-green-600 mt-2"},null,-1))]))),128))]))}};export{ae as default};
