import{d as U,r as B,s as b,w as S,c as T,o as y,a as V,b as l,n as u,t as f,F as N,e as $,u as g,f as L,g as o,v as h,h as x,i}from"./index-D9CEMe2K.js";const F=U("marginStore",()=>{const m=B([{date:null,symbol:"",buy:null,amnt:null,tp:null,sl:null,activeValue:"set"}]),d=2e-4,p=55e-5,c=(t,e,s)=>Number(t*e*d+s*e*p).toFixed(2),_=(t,e,s)=>Number(t*e*d+s*e*p).toFixed(2);return{orderBlocks:m,T_P:(t,e,s)=>{const a=_(t,e,s);return Number((s-t)*e-a).toFixed(2)},S_L:(t,e,s)=>{const a=c(t,e,s);return Number((s-t)*e-a).toFixed(2)},addNewBlock:()=>{m.value.unshift({date:null,symbol:"",buy:null,amnt:null,tp:null,sl:null,activeValue:"set"})},removeBlock:t=>{m.value.splice(t,1)}}}),M={class:"px-2 py-1 text-sm"},P={class:"flex justify-between border px-2 py-1"},j={class:"text-center font-bold"},A={class:"relative flex gap-3"},C=["onClick"],D={class:"container flex justify-between"},R={class:"text-yellow-400 font-bold"},O={class:"flex gap-3"},z={class:"flex gap-3"},E=["for"],I=["id","onUpdate:modelValue"],X=["for"],Y=["id","onUpdate:modelValue"],q=["for"],G=["id","onUpdate:modelValue"],H={class:"flex justify-between"},J=["id","onUpdate:modelValue","disabled"],K=["id","onUpdate:modelValue","disabled"],Q=["id","onUpdate:modelValue","disabled"],W=["id","onUpdate:modelValue","disabled"],Z=["id","onUpdate:modelValue","disabled"],k=["id","onUpdate:modelValue","disabled"],te={__name:"BybitMarginResult",setup(m){const{orderBlocks:d}=b(F()),{T_P:p,S_L:c,addNewBlock:_,removeBlock:w}=F(),r=n=>{n&&typeof n=="object"&&"value"in n?n.value="":n=""};S(d,n=>{const t=n[0];t.date&&t.symbol&&t.buy&&t.amnt&&t.tp&&_()},{deep:!0});const v=T(()=>!Array.isArray(d.value)||d.value.length===0?0:d.value.reduce((n,t)=>{if(t.activeValue==="profit"){const e=parseFloat(t.buy&&t.amnt&&t.tp?p(t.buy,t.amnt,t.tp):0);return n+e}else if(t.activeValue==="loss"){const e=parseFloat(t.buy&&t.amnt&&t.sl?c(t.buy,t.amnt,t.sl):0);return n+e}return n},0));return(n,t)=>(y(),V("div",M,[l("div",P,[t[6]||(t[6]=l("div",{class:""},"BYBIT Margin Order",-1)),l("div",j,[l("p",{class:u({"text-green-500 font-bold":v.value>0,"text-red-500 font-bold":v.value<0,"text-gray-500":v.value===0})}," Total: "+f(v.value.toFixed(2)),3)])]),(y(!0),V(N,null,$(g(d),(e,s)=>(y(),V("div",{key:s,class:""},[l("div",A,[s&&e.activeValue==="set"?(y(),V("button",{key:0,onClick:a=>g(w)(s),class:"w-5 bg-red-600 text-white hover:bg-red-500 hover:text-white"}," X ",8,C)):L("",!0),l("div",D,[l("div",R,"Order "+f(s+1),1),l("div",O,[l("div",z,[l("label",{for:"set"+s,class:u({"text-white font-bold":e.activeValue==="set","text-gray-500":e.activeValue!=="set"})},[o(l("input",{id:"set"+s,type:"radio",value:"set","onUpdate:modelValue":a=>e.activeValue=a},null,8,I),[[h,e.activeValue]]),t[7]||(t[7]=x(" Set "))],10,E),l("label",{for:"profit"+s,class:u({"text-green-500 font-bold":e.activeValue==="profit","text-gray-500":e.activeValue!=="profit"})},[o(l("input",{id:"profit"+s,type:"radio",value:"profit","onUpdate:modelValue":a=>e.activeValue=a},null,8,Y),[[h,e.activeValue]]),t[8]||(t[8]=x(" TP "))],10,X),l("span",{class:u({"text-green-500":e.activeValue==="profit","text-gray-500":e.activeValue!=="profit"})},f(g(p)(e.buy,e.amnt,e.tp)),3),l("label",{for:"loss"+s,class:u({"text-red-500 font-bold":e.activeValue==="loss","text-gray-500":e.activeValue!=="loss"})},[o(l("input",{id:"loss"+s,type:"radio",value:"loss","onUpdate:modelValue":a=>e.activeValue=a},null,8,G),[[h,e.activeValue]]),t[9]||(t[9]=x(" SL "))],10,q),l("span",{class:u({"text-red-500":e.activeValue==="loss","text-gray-500":e.activeValue!=="loss"})},f(g(c)(e.buy,e.amnt,e.sl)),3)])])])]),l("div",H,[o(l("input",{id:"date"+s,type:"date","onUpdate:modelValue":a=>e.date=a,placeholder:"Date",class:"w-[8ch] bg-gray-900 text-center appearance-none",onFocus:t[0]||(t[0]=a=>r(n.date)),disabled:e.activeValue!=="set"},null,40,J),[[i,e.date]]),o(l("input",{id:"symbol"+s,type:"text","onUpdate:modelValue":a=>e.symbol=a,placeholder:"Symbol",class:"w-[6ch] bg-gray-900 text-center uppercase",onFocus:t[1]||(t[1]=a=>r(n.symbol)),disabled:e.activeValue!=="set"},null,40,K),[[i,e.symbol]]),o(l("input",{id:"buy"+s,type:"number","onUpdate:modelValue":a=>e.buy=a,placeholder:"Buy",class:"w-[8ch] bg-gray-900 text-center text-blue-400 appearance-none",onFocus:t[2]||(t[2]=a=>r(n.buy)),disabled:e.activeValue!=="set"},null,40,Q),[[i,e.buy]]),o(l("input",{id:"amnt"+s,type:"number","onUpdate:modelValue":a=>e.amnt=a,placeholder:"Amnt",class:"w-[6ch] bg-gray-900 text-center appearance-none",onFocus:t[3]||(t[3]=a=>r(n.amnt)),disabled:e.activeValue!=="set"},null,40,W),[[i,e.amnt]]),o(l("input",{id:"tp"+s,type:"number","onUpdate:modelValue":a=>e.tp=a,placeholder:"TP",class:"w-[8ch] bg-gray-900 text-center text-green-400 appearance-none",onFocus:t[4]||(t[4]=a=>r(n.tp)),disabled:e.activeValue!=="set"},null,40,Z),[[i,e.tp]]),o(l("input",{id:"sl"+s,type:"number","onUpdate:modelValue":a=>e.sl=a,placeholder:"SL",class:"w-[8ch] bg-gray-900 text-center text-red-400 appearance-none",onFocus:t[5]||(t[5]=a=>r(n.sl)),disabled:e.activeValue!=="set"},null,40,k),[[i,e.sl]])]),t[10]||(t[10]=l("hr",{class:"border-green-600 mt-2"},null,-1))]))),128))]))}};export{te as default};
