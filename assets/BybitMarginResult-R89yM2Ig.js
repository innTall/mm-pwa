import{d as U,r as B,s as S,w as T,c as N,o as y,a as f,b as s,n as u,t as V,F,e as $,u as g,f as L,g as n,v as h,h as x,i,j}from"./index-CaUMPJve.js";import{_ as M}from"./FooterBybit-CP9KCRy-.js";const b=U("marginStore",()=>{const m=B([{date:null,symbol:"",buy:null,amnt:null,tp:null,sl:null,activeValue:"set"}]),r=2e-4,p=55e-5,c=(t,e,l)=>Number(t*e*r+l*e*p).toFixed(2),_=(t,e,l)=>Number(t*e*r+l*e*p).toFixed(2);return{orderBlocks:m,T_P:(t,e,l)=>{const a=_(t,e,l);return Number((l-t)*e-a).toFixed(2)},S_L:(t,e,l)=>{const a=c(t,e,l);return Number((l-t)*e-a).toFixed(2)},addNewBlock:()=>{m.value.unshift({date:null,symbol:"",buy:null,amnt:null,tp:null,sl:null,activeValue:"set"})},removeBlock:t=>{m.value.splice(t,1)}}},{persist:!0}),P={class:"container min-h-screen mb-10px-2 py-1 text-sm"},A={class:"flex justify-between border px-2 py-1"},C={class:"text-center font-bold"},D={class:"relative flex gap-3"},R=["onClick"],z={class:"container flex justify-between"},O={class:"text-yellow-400 font-bold"},E={class:"flex gap-3"},I={class:"flex gap-3"},X=["for"],Y=["id","onUpdate:modelValue"],q=["for"],G=["id","onUpdate:modelValue"],H=["for"],J=["id","onUpdate:modelValue"],K={class:"flex justify-between"},Q=["id","onUpdate:modelValue","disabled"],W=["id","onUpdate:modelValue","disabled"],Z=["id","onUpdate:modelValue","disabled"],k=["id","onUpdate:modelValue","disabled"],ee=["id","onUpdate:modelValue","disabled"],te=["id","onUpdate:modelValue","disabled"],ae={class:"fixed w-full h-12 left-0 bottom-0 z-10 bg-gray-900"},oe={__name:"BybitMarginResult",setup(m){const{orderBlocks:r}=S(b()),{T_P:p,S_L:c,addNewBlock:_,removeBlock:w}=b(),d=o=>{o&&typeof o=="object"&&"value"in o?o.value="":o=""};T(r,o=>{const t=o[0];t.date&&t.symbol&&t.buy&&t.amnt&&t.tp&&_()},{deep:!0});const v=N(()=>!Array.isArray(r.value)||r.value.length===0?0:r.value.reduce((o,t)=>{if(t.activeValue==="profit"){const e=parseFloat(t.buy&&t.amnt&&t.tp?p(t.buy,t.amnt,t.tp):0);return o+e}else if(t.activeValue==="loss"){const e=parseFloat(t.buy&&t.amnt&&t.sl?c(t.buy,t.amnt,t.sl):0);return o+e}return o},0));return(o,t)=>(y(),f(F,null,[s("div",P,[s("div",A,[t[6]||(t[6]=s("div",{class:""},"BYBIT Margin Order",-1)),s("div",C,[s("p",{class:u({"text-green-500 font-bold":v.value>0,"text-red-500 font-bold":v.value<0,"text-gray-500":v.value===0})}," Total: "+V(v.value.toFixed(2)),3)])]),(y(!0),f(F,null,$(g(r),(e,l)=>(y(),f("div",{key:l,class:""},[s("div",D,[l&&e.activeValue==="set"?(y(),f("button",{key:0,onClick:a=>g(w)(l),class:"w-5 bg-red-600 text-white hover:bg-red-500 hover:text-white"}," X ",8,R)):L("",!0),s("div",z,[s("div",O,"Order "+V(l+1),1),s("div",E,[s("div",I,[s("label",{for:"set"+l,class:u({"text-white font-bold":e.activeValue==="set","text-gray-500":e.activeValue!=="set"})},[n(s("input",{id:"set"+l,type:"radio",value:"set","onUpdate:modelValue":a=>e.activeValue=a},null,8,Y),[[h,e.activeValue]]),t[7]||(t[7]=x(" Set "))],10,X),s("label",{for:"profit"+l,class:u({"text-green-500 font-bold":e.activeValue==="profit","text-gray-500":e.activeValue!=="profit"})},[n(s("input",{id:"profit"+l,type:"radio",value:"profit","onUpdate:modelValue":a=>e.activeValue=a},null,8,G),[[h,e.activeValue]]),t[8]||(t[8]=x(" TP "))],10,q),s("span",{class:u({"text-green-500":e.activeValue==="profit","text-gray-500":e.activeValue!=="profit"})},V(g(p)(e.buy,e.amnt,e.tp)),3),s("label",{for:"loss"+l,class:u({"text-red-500 font-bold":e.activeValue==="loss","text-gray-500":e.activeValue!=="loss"})},[n(s("input",{id:"loss"+l,type:"radio",value:"loss","onUpdate:modelValue":a=>e.activeValue=a},null,8,J),[[h,e.activeValue]]),t[9]||(t[9]=x(" SL "))],10,H),s("span",{class:u({"text-red-500":e.activeValue==="loss","text-gray-500":e.activeValue!=="loss"})},V(g(c)(e.buy,e.amnt,e.sl)),3)])])])]),s("div",K,[n(s("input",{id:"date"+l,type:"date","onUpdate:modelValue":a=>e.date=a,placeholder:"Date",class:"w-[8ch] bg-gray-900 text-center appearance-none",onFocus:t[0]||(t[0]=a=>d(o.date)),disabled:e.activeValue!=="set"},null,40,Q),[[i,e.date]]),n(s("input",{id:"symbol"+l,type:"text","onUpdate:modelValue":a=>e.symbol=a,placeholder:"Symbol",class:"w-[6ch] bg-gray-900 text-center uppercase",onFocus:t[1]||(t[1]=a=>d(o.symbol)),disabled:e.activeValue!=="set"},null,40,W),[[i,e.symbol]]),n(s("input",{id:"buy"+l,type:"number","onUpdate:modelValue":a=>e.buy=a,placeholder:"Buy",class:"w-[8ch] bg-gray-900 text-center text-blue-400 appearance-none",onFocus:t[2]||(t[2]=a=>d(o.buy)),disabled:e.activeValue!=="set"},null,40,Z),[[i,e.buy]]),n(s("input",{id:"amnt"+l,type:"number","onUpdate:modelValue":a=>e.amnt=a,placeholder:"Amnt",class:"w-[6ch] bg-gray-900 text-center appearance-none",onFocus:t[3]||(t[3]=a=>d(o.amnt)),disabled:e.activeValue!=="set"},null,40,k),[[i,e.amnt]]),n(s("input",{id:"tp"+l,type:"number","onUpdate:modelValue":a=>e.tp=a,placeholder:"TP",class:"w-[8ch] bg-gray-900 text-center text-green-400 appearance-none",onFocus:t[4]||(t[4]=a=>d(o.tp)),disabled:e.activeValue!=="set"},null,40,ee),[[i,e.tp]]),n(s("input",{id:"sl"+l,type:"number","onUpdate:modelValue":a=>e.sl=a,placeholder:"SL",class:"w-[8ch] bg-gray-900 text-center text-red-400 appearance-none",onFocus:t[5]||(t[5]=a=>d(o.sl)),disabled:e.activeValue!=="set"},null,40,te),[[i,e.sl]])]),t[10]||(t[10]=s("hr",{class:"border-green-600 mt-2"},null,-1))]))),128))]),s("footer",ae,[j(M)])],64))}};export{oe as default};
